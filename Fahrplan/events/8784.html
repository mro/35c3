<!DOCTYPE html>
<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type">
<title>Schedule 34th Chaos Communication Congress</title>
<link rel="stylesheet" media="screen" href="/congress/2017/Fahrplan/public_schedule.css">
<link rel="stylesheet" media="all" href="/congress/2017/Fahrplan/style.css">
<link rel="stylesheet" media="print" href="/congress/2017/Fahrplan/public_schedule_print.css">
</head>
<body>
<div id="wrapper">
<div id="banner"></div>
<div id="header">
<h1>Schedule 34th Chaos Communication Congress</h1>
</div>
<div id="navigation">
<ul>
<li>
<a href="/congress/2017/Fahrplan/index.html">Overview</a>
</li>
<li>
<a href="/congress/2017/Fahrplan/schedule/1.html">
Wednesday
 - 
<span class="small-font">2017-12-27</span>
</a>
</li>
<li>
<a href="/congress/2017/Fahrplan/schedule/2.html">
Thursday
 - 
<span class="small-font">2017-12-28</span>
</a>
</li>
<li>
<a href="/congress/2017/Fahrplan/schedule/3.html">
Friday
 - 
<span class="small-font">2017-12-29</span>
</a>
</li>
<li>
<a href="/congress/2017/Fahrplan/schedule/4.html">
Saturday
 - 
<span class="small-font">2017-12-30</span>
</a>
</li>
<li>
<a href="/congress/2017/Fahrplan/speakers.html">Speakers</a>
</li>
<li>
<a href="/congress/2017/Fahrplan/events.html">Events</a>
</li>
<li>
<a href="/congress/2017/Fahrplan/timeline.html"><span class="translation_missing" title="translation missing: en.layouts.public_schedule.timeline">Timeline</span></a>
</li>
<li>
<a href="/congress/2017/Fahrplan/booklet.html"><span class="translation_missing" title="translation missing: en.layouts.public_schedule.booklet">Booklet</span></a>
</li>
<li>
<a href="/congress/2017/Fahrplan/qrcode.html">QR-Code</a>
</li>
</ul>

</div>
<div id="main-content">
<p class="release">Version bcc</p>
<h2>lecture: eMMC hacking, or: how I fixed long-dead Galaxy S3 phones</h2>
<h3 class="title">A journey on how to fix broken proprietary hardware by gaining code execution on it</h3>
<div class="column left" id="basic">
<div class="image large"><img src="/congress/2017/Fahrplan/assets/event_large-4b8aa978adbb7c8e80151f5a83c6782a12e763374ae3a042a55e7e626a64d93b.png" alt="Event large"></div>
<p class="abstract">How I hacked Sasmung eMMC chips: from an indication that they have a firmware - up until code execution ability on the chip itself, relevant to a countless number of devices. It all started when Samsung Galaxy S3 devices started dying due to a bug in their eMMC firmware. I will cover how I figured out there's a firmware inside the chip, how I obtained it, and my journey to gaining code execution on the chip itself â€” up until the point in which I could grab a bricked Galaxy S3, and fix it by software-only means.</p>
<p class="description"></p>
<p>Few years ago Samsung Galaxy S3 devices started dying all around the world (a phenomenon known as "Galaxy S3 Sudden Death"). The faulty hardware was pinpointed to its eMMC chip (made by Samsung). eMMC are basically SD cards in BGA form soldered to the PCB, but as it apperas - they hide a CPU and a firmware inside.</p>
<br><p>Samsung eMMC chips support some vendor-specific, undocumented eMMC commands. By doing some guesswork and finding the right sequence of commands I was able to dump the entire RAM (and firmware) of the eMMC chip, which appears to sport an <i>ARM Cortex-M3</i> chip inside. But how can we know what causes the device to fail?</p>
<br><p>Samsung has written a Linux patch which patches the eMMC's RAM in order to fix the problem. However, investigating the patch itself reveals that it does nothing more than jumping to an infinite loop when something goes wrong. We needed a more inherent fix. By utilizing Samsung's own vendor-specific commands, we can write the eMMC's RAM in order to achieve code execution, or even write to the eMMC's NAND flash memory directly. We can update its firmware and fix the problem altogether.</p>
<br><p>However, when a device is bricked, how do we even get to send commands to its soldered eMMC chip by software-only means? I will show a working exploit against Samsung's boot-loader to be able to send commands to the eMMC chip.</p>
<br><p>Nevertheless, this is not enough. A bricked device usually means that the eMMC is now in an infinite loop and won't accept and eMMC commands. Although it appears to be a dead-end, there's a way: by triggering a power reset on the eMMC chip, there's a time window in which the chip boots itself. There's a way to stop the eMMC chip from loading its own firmware, instead putting itself in some "recovery mode". I was finally able to execute my own code on the faulty chip.</p>
<br><p>The research not only applies to Galaxy S3 devices (which are obviously old), as it appears to be relevant for new Samsung eMMC chips, even though they have a slightly different firmware, which will be briefly overviewed.</p>
</div>
<div class="column left" id="details">
<h3>Info</h3>
<p>
<b>Day:</b>
<a href="/congress/2017/Fahrplan/schedule/1.html">2017-12-27</a>
<br>
<b>Start time:</b>
12:45
<br>
<b>Duration:</b>
01:00
<br>
<b>Room:</b>
Saal Dijkstra
<br>
<b>Track:</b>
<font class="event track-security">
<a href="/congress/2017/Fahrplan/events.html#security">Security</a>
</font>
<br>
<b>Language:</b>
en
</p>
<h3>Links:</h3>
<ul>
<li><a href="/congress/2017/Fahrplan/events/8784.ics">iCalendar</a></li>
<li><a href="https://forum.xda-developers.com/showthread.php?t=2096045">Initial research when Galaxy S3 devices died</a></li>
</ul>
<h3>Feedback</h3>
<p>
<a href="https://frab.cccv.de/en/34c3/public/events/8784/feedback/new">Click here to let us know how you liked this event.</a>
</p>
<div class="column left" id="concurrent_events">
<h3><span class="translation_missing" title="translation missing: en.public.schedule.event.concurrent_events">Concurrent Events</span></h3>
<dl class="dl-horizontal">
</dl>
</div>
</div>
<div class="column right" id="sidebar">
<h3>Speakers</h3>
<table class="list">
<tbody>
<tr>
<td><div class="image small"><img src="/congress/2017/Fahrplan/assets/person_small-6becbdd9bedc5ac3962dfb66f90e5ebb8fdbb97c287002e97bba3762a122a2bf.png" alt="Person small"></div></td>
<td><a href="/congress/2017/Fahrplan/speakers/7597.html">oranav</a></td>
</tr>
</tbody>
</table>
</div>
<div class="span16">
</div>
<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Event",
  "name" : "eMMC hacking, or: how I fixed long-dead Galaxy S3 phones",
  "location" : {
    "@type" : "Place",
    "name" : "Saal Dijkstra",
    "address" : "34th Chaos Communication Congress"
  },
  "startDate" : "2017-12-27T12:45:00+0100",
  "endDate" : "2017-12-27T13:45:00+0100",
  "performer" : [{&quot;name&quot;:&quot;oranav&quot;,&quot;@type&quot;:&quot;Person&quot;,&quot;sameAs&quot;:&quot;/en/34c3/public/speakers/7597&quot;,&quot;image&quot;:&quot;/assets/person_small-6becbdd9bedc5ac3962dfb66f90e5ebb8fdbb97c287002e97bba3762a122a2bf.png&quot;}],
  "inLanguage" : "en",
  "superEvent" : {
    "@type" : "Event",
    "sameAs" : "/en/34c3/public/schedule",
    "name" : "34th Chaos Communication Congress",
    "location" : {
      "@type" : "Place",
      "name" : "34th Chaos Communication Congress",
      "address" : "34th Chaos Communication Congress"
    },
    "startDate" : "2017-12-27T10:00:00+0100"
  }
}

</script>

<br class="clear">
</div>
</div>
<div id="footer">
<p>This schedule was generated with <a href="http://frab.github.io/frab/">frab</a>.</p>
</div>
</body>
</html>
